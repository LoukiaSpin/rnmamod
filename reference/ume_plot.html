<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>End-user-ready results for the unrelated mean effects model — ume_plot • rnmamod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="End-user-ready results for the unrelated mean effects model — ume_plot"><meta name="description" content="ume_plot hosts a toolkit of functions that facilitates
  the comparison of the consistency model (via run_model) with
  the unrelated mean effects model (via run_ume) regarding the
  posterior summaries of the summary effect size for the pairwise comparisons
  observed in the network, the between-trial standard deviation (tau)
  and model assessment parameters."><meta property="og:description" content="ume_plot hosts a toolkit of functions that facilitates
  the comparison of the consistency model (via run_model) with
  the unrelated mean effects model (via run_ume) regarding the
  posterior summaries of the summary effect size for the pairwise comparisons
  observed in the network, the between-trial standard deviation (tau)
  and model assessment parameters."><meta property="og:image" content="https://loukiaspin.github.io/rnmamod/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rnmamod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/network_description.html">Description of the network</a></li>
    <li><a class="dropdown-item" href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LoukiaSpin/rnmamod/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>End-user-ready results for the unrelated mean effects model</h1>
      <small class="dont-index">Source: <a href="https://github.com/LoukiaSpin/rnmamod/blob/main/R/UME.plot_function.R" class="external-link"><code>R/UME.plot_function.R</code></a></small>
      <div class="d-none name"><code>ume_plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ume_plot</code> hosts a toolkit of functions that facilitates
  the comparison of the consistency model (via <code><a href="run_model.html">run_model</a></code>) with
  the unrelated mean effects model (via <code><a href="run_ume.html">run_ume</a></code>) regarding the
  posterior summaries of the summary effect size for the pairwise comparisons
  observed in the network, the between-trial standard deviation (<em>tau</em>)
  and model assessment parameters.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ume_plot</span><span class="op">(</span><span class="va">full</span>, <span class="va">ume</span>, <span class="va">drug_names</span>, <span class="va">save_xls</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-full">full<a class="anchor" aria-label="anchor" href="#arg-full"></a></dt>
<dd><p>An object of S3 class <code><a href="run_model.html">run_model</a></code>. See 'Value' in
<code><a href="run_model.html">run_model</a></code>.</p></dd>


<dt id="arg-ume">ume<a class="anchor" aria-label="anchor" href="#arg-ume"></a></dt>
<dd><p>An object of S3 class <code><a href="run_ume.html">run_ume</a></code>. See 'Value' in
<code><a href="run_ume.html">run_ume</a></code>.</p></dd>


<dt id="arg-drug-names">drug_names<a class="anchor" aria-label="anchor" href="#arg-drug-names"></a></dt>
<dd><p>A vector of labels with the name of the interventions in
the order they appear in the argument <code>data</code> of
<code><a href="run_model.html">run_model</a></code>. If <code>drug_names</code> is not defined,
the order of the interventions as they appear in <code>data</code> is used,
instead.</p></dd>


<dt id="arg-save-xls">save_xls<a class="anchor" aria-label="anchor" href="#arg-save-xls"></a></dt>
<dd><p>Logical to indicate whether to export the tabulated results
to an 'xlsx' file (via the <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code>
function of the R-package
<a href="https://CRAN.R-project.org/package=writexl" class="external-link">writexl</a>) to the working
directory of the user. The default is <code>FALSE</code> (do not export).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>ume_plot</code> prints on the R console a message on the most
  parsimonious model (if any) based on the DIC (red text). Then, the function
  returns the following list of elements:</p>
<dl><dt>table_effect_size</dt>
<dd><p>The posterior median, posterior standard
  deviation, and 95% credible interval of the summary effect size for each
  pairwise comparison observed in the network under the consistency model
  and the unrelated mean effects model.</p></dd>

  <dt>table_model_assessment</dt>
<dd><p>The DIC, number of effective
  parameters, and total residual deviance under the consistency model and
  the unrelated mean effects model (Spiegelhalter et al., 2002).</p></dd>

  <dt>table_tau</dt>
<dd><p>The posterior median and 95% credible interval of
  <em>tau</em> under the consistency model and the unrelated mean effects
  model. When a fixed-effect model has been performed, <code>ume_plot</code> does
  not return this element.</p></dd>

  <dt>scatterplots</dt>
<dd><p>The scatterplot and the Bland-Altman plot on the
  posterior mean deviance contribution of the individual data points under
  the consistency model and the unrelated mean effects model. See 'Details'
  and 'Value' in <code><a href="scatterplots_dev.html">scatterplots_dev</a></code> and
  <code><a href="bland_altman_plot.html">bland_altman_plot</a></code>, respectively.</p></dd>

  <dt>levarage_plots</dt>
<dd><p>The leverage plot under the consistency model
  and the unrelated mean effects model, separately. See 'Details' and
  'Value' in <code><a href="leverage_plot.html">leverage_plot</a></code>.</p></dd>

  <dt>intervalplots</dt>
<dd><p>A panel of interval plots on the summary effect
  size under the consistency model and the unrelated mean effects model for
  each pairwise comparison observed in the network. See 'Details' and
  'Value' in <code><a href="intervalplot_panel_ume.html">intervalplot_panel_ume</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The deviance information criterion (DIC) of the consistency model is
  compared with the DIC of the unrelated mean effects model
  (Dias et al., 2013). If the difference in DIC exceeds 5, the unrelated mean
  effects model is preferred. If the difference in DIC is less than -5, the
  consistency is preferred; otherwise, there is little to choose between the
  compared models.</p>
<p>For a binary outcome, when <code>measure</code> is "RR" (relative risk) or "RD"
  (risk difference) in <code><a href="run_model.html">run_model</a></code>, <code>ume_plot</code> currently
  presents the results from network meta-analysis and unrelated mean effects
  in the odds ratio for being the <strong>base-case</strong> effect measure in
  <code><a href="run_model.html">run_model</a></code> for a binary outcome (see also 'Details' in
  <code><a href="run_model.html">run_model</a></code>).</p>
<p>Furthermore, <code>ume_plot</code> exports <code>table_effect_size</code> and
  <code>table_model_assessment</code> to separate 'xlsx' files (via the
  <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code> function) to the working
  directory of the user.</p>
<p><code>ume_plot</code> can be used only for a network of interventions. In the
  case of two interventions, the execution of the function will be stopped
  and an error message will be printed on the R console.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Dias S, Welton NJ, Sutton AJ, Caldwell DM, Lu G, Ades AE. Evidence synthesis
for decision making 4: inconsistency in networks of evidence based on
randomized controlled trials.
<em>Med Decis Making</em> 2013;<b>33</b>(5):641–56.
doi: 10.1177/0272989X12455847</p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, van der Linde A. Bayesian measures of
model complexity and fit. <em>J R Stat Soc B</em> 2002;<b>64</b>(4):583–396.
doi: 10.1111/1467-9868.00353</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="bland_altman_plot.html">bland_altman_plot</a></code>,
  <code><a href="intervalplot_panel_ume.html">intervalplot_panel_ume</a></code>, <code><a href="leverage_plot.html">leverage_plot</a></code>,
  <code><a href="run_model.html">run_model</a></code>, <code><a href="run_ume.html">run_ume</a></code>,
  <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nma.liu2013"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Read results from 'run_model' (using the default arguments)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/res_liu.rds'</span>, package <span class="op">=</span> <span class="st">'rnmamod'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read results from 'run_ume' (using the default arguments)</span></span></span>
<span class="r-in"><span><span class="va">ume</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/ume_liu.rds'</span>, package <span class="op">=</span> <span class="st">'rnmamod'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The names of the interventions in the order they appear in the dataset</span></span></span>
<span class="r-in"><span><span class="va">interv_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"placebo"</span>, <span class="st">"pramipexole"</span>, <span class="st">"serotonin-norepinephrine</span></span></span>
<span class="r-in"><span><span class="st">                  reuptake inhibitor"</span>, <span class="st">"serotonin reuptake inhibitor"</span>,</span></span>
<span class="r-in"><span>                  <span class="st">"tricyclic antidepressant"</span>, <span class="st">"pergolide"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Plot the results from both models</span></span></span>
<span class="r-in"><span><span class="fu">ume_plot</span><span class="op">(</span>full <span class="op">=</span> <span class="va">res</span>,</span></span>
<span class="r-in"><span>         ume <span class="op">=</span> <span class="va">ume</span>,</span></span>
<span class="r-in"><span>         drug_names <span class="op">=</span> <span class="va">interv_names</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There is little to choose between the two models.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_effect_size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table: Estimation for each observed comparison</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Comparison                                                                                   | Median NMA | SD NMA |   95% CrI NMA   | Median UME | SD UME |   95% CrI UME   |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:--------------------------------------------------------------------------------------------|:----------:|:------:|:---------------:|:----------:|:------:|:---------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pramipexole vs placebo                                                                       |    2.22    |  0.65  | ( 0.61,  8.71)  |    1.79    |  0.84  | ( 0.31, 10.28)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |serotonin-norepinephrine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   reuptake inhibitor vs placebo                      |    1.12    |  0.70  | ( 0.29,  4.78)  |    1.18    |  0.72  | ( 0.29,  5.19)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |serotonin reuptake inhibitor vs placebo                                                      |    2.03    |  0.51  | ( 0.69,  5.25)  |    2.29    |  0.57  | ( 0.65,  6.30)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |tricyclic antidepressant vs placebo                                                          |    4.48    |  0.71  | ( 1.08, 17.87)* |    6.75    |  0.79  | ( 1.44, 32.94)* |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |serotonin reuptake inhibitor vs pramipexole                                                  |    0.92    |  0.70  | ( 0.20,  3.32)  |    0.63    |  0.98  | ( 0.08,  4.41)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pergolide vs pramipexole                                                                     |    0.27    |  1.13  | ( 0.03,  2.41)  |    0.28    |  1.15  | ( 0.03,  2.45)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |serotonin reuptake inhibitor vs serotonin-norepinephrine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   reuptake inhibitor |    1.81    |  0.76  | ( 0.35,  7.27)  |    3.26    |  0.94  | ( 0.46, 21.27)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |tricyclic antidepressant vs serotonin reuptake inhibitor                                     |    2.22    |  0.70  | ( 0.58,  8.99)  |    0.41    |  1.42  | ( 0.02,  6.57)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_model_assessment</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table: Model assessment parameters (25 unconstrained data points)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |    |Full NMA | UME model |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:---|:--------|:---------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |DIC |43.52515 | 44.02893  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |pD  |18.94214 | 20.13015  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |dev |24.58300 | 23.89878  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_tau</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table: Between-trial standard deviation</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |          |Median    | Lower 95% CrI | Upper 95% CrI |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:---------|:---------|:-------------:|:-------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Full NMA  |0.5907608 |   0.0370939   |   1.541924    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |UME model |0.5992070 |   0.0354797   |   1.633918    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $scatterplots</span>
<span class="r-plt img"><img src="ume_plot-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $leverage_plots</span>
<span class="r-plt img"><img src="ume_plot-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $intervalplots</span>
<span class="r-plt img"><img src="ume_plot-3.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

