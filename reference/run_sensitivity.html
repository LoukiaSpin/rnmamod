<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform sensitivity analysis for missing participant outcome data — run_sensitivity • rnmamod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform sensitivity analysis for missing participant outcome data — run_sensitivity"><meta name="description" content="Performs a sensitivity analysis by applying pairwise
  meta-analysis or network meta-analysis for a series of different scenarios
  about the informative missingness parameter."><meta property="og:description" content="Performs a sensitivity analysis by applying pairwise
  meta-analysis or network meta-analysis for a series of different scenarios
  about the informative missingness parameter."><meta property="og:image" content="https://loukiaspin.github.io/rnmamod/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rnmamod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/network_description.html">Description of the network</a></li>
    <li><a class="dropdown-item" href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LoukiaSpin/rnmamod/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Perform sensitivity analysis for missing participant outcome data</h1>
      <small class="dont-index">Source: <a href="https://github.com/LoukiaSpin/rnmamod/blob/main/R/run.sensitivity_function.R" class="external-link"><code>R/run.sensitivity_function.R</code></a></small>
      <div class="d-none name"><code>run_sensitivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs a sensitivity analysis by applying pairwise
  meta-analysis or network meta-analysis for a series of different scenarios
  about the informative missingness parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_sensitivity</span><span class="op">(</span></span>
<span>  <span class="va">full</span>,</span>
<span>  <span class="va">assumption</span>,</span>
<span>  <span class="va">mean_scenarios</span>,</span>
<span>  <span class="va">var_misspar</span>,</span>
<span>  <span class="va">n_chains</span>,</span>
<span>  <span class="va">n_iter</span>,</span>
<span>  <span class="va">n_burnin</span>,</span>
<span>  <span class="va">n_thin</span>,</span>
<span>  inits <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-full">full<a class="anchor" aria-label="anchor" href="#arg-full"></a></dt>
<dd><p>An object of S3 class <code><a href="run_model.html">run_model</a></code>. See 'Value' in
<code><a href="run_model.html">run_model</a></code>.</p></dd>


<dt id="arg-assumption">assumption<a class="anchor" aria-label="anchor" href="#arg-assumption"></a></dt>
<dd><p>Character string indicating the structure of the
informative missingness parameter. Set <code>assumption</code> equal to one of
the following two: <code>"HIE-ARM"</code>, or <code>"IDE-ARM"</code> (see 'Details').
The default argument is <code>"IDE-ARM"</code>. The abbreviations <code>"IDE"</code>,
and <code>"HIE"</code> stand for identical, and hierarchical, respectively.</p></dd>


<dt id="arg-mean-scenarios">mean_scenarios<a class="anchor" aria-label="anchor" href="#arg-mean-scenarios"></a></dt>
<dd><p>A vector with numeric values for the mean of the normal
distribution of the informative missingness parameter (see 'Details').
The vector should have a length equal to 5 or larger.
The missing-at-random (MAR) assumption should be the median of the vector,
so that the same number of informative scenarios appear before and after
the MAR. The default scenarios are c(-log(3), -log(2), log(0.9999), log(2),
log(3)) and c(-2, -1, 0, 1, 2) for binary and continuous outcome data,
respectively.</p></dd>


<dt id="arg-var-misspar">var_misspar<a class="anchor" aria-label="anchor" href="#arg-var-misspar"></a></dt>
<dd><p>A positive non-zero number for the variance of the normal
distribution of the informative missingness parameter. When the
<code>measure</code> (defined in <code><a href="run_model.html">run_model</a></code>) is <code>"OR"</code>,
<code>"MD"</code>, or <code>"SMD"</code> the default argument is 1. When the
<code>measure</code> is <code>"ROM"</code>, the default argument is 0.04.</p></dd>


<dt id="arg-n-chains">n_chains<a class="anchor" aria-label="anchor" href="#arg-n-chains"></a></dt>
<dd><p>Integer specifying the number of chains for the MCMC
sampling; an argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of
the R-package <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 2.</p></dd>


<dt id="arg-n-iter">n_iter<a class="anchor" aria-label="anchor" href="#arg-n-iter"></a></dt>
<dd><p>Integer specifying the number of Markov chains for the MCMC
sampling; an argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of
the R-package <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 10000.</p></dd>


<dt id="arg-n-burnin">n_burnin<a class="anchor" aria-label="anchor" href="#arg-n-burnin"></a></dt>
<dd><p>Integer specifying the number of iterations to discard at the
beginning of the MCMC sampling; an argument of the
<code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of the R-package
<a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 1000.</p></dd>


<dt id="arg-n-thin">n_thin<a class="anchor" aria-label="anchor" href="#arg-n-thin"></a></dt>
<dd><p>Integer specifying the thinning rate for the MCMC sampling; an
argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of the R-package
<a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 1.</p></dd>


<dt id="arg-inits">inits<a class="anchor" aria-label="anchor" href="#arg-inits"></a></dt>
<dd><p>A list with the initial values for the parameters; an argument
of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of the R-package
<a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is <code>NULL</code>, and JAGS generates the initial values.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of R2jags outputs on the summaries of the posterior
  distribution, and the Gelman-Rubin convergence diagnostic
  (Gelman et al., 1992) of the following monitored parameters for a
  random-effects pairwise meta-analysis:</p>
<dl><dt>EM</dt>
<dd><p>The estimated summary effect measure (according to the
   argument <code>measure</code> defined in <code><a href="run_model.html">run_model</a></code>).</p></dd>

  <dt>EM_pred</dt>
<dd><p>The predicted summary effect measure (according to the
   argument <code>measure</code> defined in <code><a href="run_model.html">run_model</a></code>). This element
   does not appear in the case of a fixed-effect meta-analysis.</p></dd>

  <dt>EM_LOR</dt>
<dd><p>The estimated summary odd ratio in the logarithmic scale when
  <code>measure = "RR"</code> or <code>measure = "RD"</code>.</p></dd>

  <dt>EM_LOR_pred</dt>
<dd><p>The predicted summary odd ratio in the logarithmic scale
   when <code>measure = "RR"</code> or <code>measure = "RD"</code>. This element does
   not appear in the case of a fixed-effect meta-analysis.</p></dd>

  <dt>tau</dt>
<dd><p>The between-trial standard deviation. This element does
   not appear in the case of a fixed-effect meta-analysis.</p></dd>


</dl><p>In a random-effects network meta-analysis, <code>EM</code> refer to all possible
  pairwise comparisons of interventions in the network. Furthermore,
  <code>tau</code> is typically assumed to be common for all observed comparisons
  in the network.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The model runs in <code>JAGS</code> and the progress of the simulation
  appears on the R console. The number of times <code>run_sensitivity</code> is
  used appears on the R console as a text in red and it equals the
  <b>number of scenarios</b> defined as <em>the square of the length of the
  vector specified in <code>mean_scenarios</code></em> (see 'Examples').
  The output of <code>run_sensitivity</code> is used as an S3 object by other
  functions of the package to be processed further and provide an
  end-user-ready output.</p>
<p>In the case of pairwise meta-analysis, <code>EM</code> and <code>tau</code> are
  estimated as many times as the number of scenarios considered.
  In the case of network meta-analysis, each possible pairwise comparison is
  estimated as many times as the number of scenarios considered.</p>
<p>The informative missingness parameter is assumed to differ only across the
  interventions of the dataset. Therefore, the user can specify the
  informative missingness parameter to be arm-specific <em>and</em> identical
  (<code>assumption = "IDE-ARM"</code>), or arm-specific <em>and</em>
  hierarchical (<code>assumption = "HIE-ARM"</code>) (Spineli et al., 2021).</p>
<p>The length of the vector specified in argument <code>mean_scenarios</code> should
  be equal to or more than 5 (a positive odd integer) to allow for an
  adequate number of scenarios. It is important that the number
  corresponding to the MAR assumption is the middle of the numbers in the
  vector specified in argument <code>mean_scenarios</code>. The <b>MAR
  assumption</b> constitutes the <b>primary analysis</b>.
  Under the informative missingness difference of means parameter (relevant
  for the raw and standardised mean diffenre), the MAR assumption equals 0.
  Under the informative missingness odds ratio parameter (IMOR; relevant for
  the odds ratio) and the informative missingness ratio of means (IMRoM;
  relevant for the ratio of means) parameter, the MAR assumption equals 1;
  however, both parameters are analysed in the logarithmic scale. We advise
  using the value <code>0.999</code> rather than <code>1</code> in <code>mean_scenarios</code>
  for the IMOR and IMRoM parameters; otherwise, the execution of the function
  will be stopped and the error 'Invalid parent values' will be printed on
  the R console.</p>
<p>Currently, there are no empirically-based prior distributions for the
  informative missingness parameters. The users may refer to Spineli (2019),
  Mavridis et al. (2015), Turner et al. (2015), and White et al. (2008) to
  determine <code>mean_scenarios</code> for an informative missingness mechanism
  and select a proper value for <code>var_misspar</code>.</p>
<p><code>run_sensitivity</code> inherits the arguments <code>data</code>,
  <code>measure</code>, <code>model</code>, <code>heter_prior</code>, <code>D</code>, <code>indic</code>,
  <code>base_risk</code>, and <code>ref</code> from <code><a href="run_model.html">run_model</a></code>
  (now contained in the argument <code>full</code>). This prevents specifying a
  different Bayesian model from that considered in the primary analysis
  (via <code><a href="run_model.html">run_model</a></code>)–an exception in the <code>assumption</code>
  argument as it is restricted to only two character strings. Therefore, the
  user needs first to apply <code><a href="run_model.html">run_model</a></code>, and then use
  <code>run_sensitivity</code> (see 'Examples').</p>
<p>The <code>run_sensitivity</code> function also returns the arguments
  <code>measure</code>, <code>scenarios</code>, <code>D</code>, <code>heter</code>, <code>n_chains</code>,
  <code>n_iter</code>, <code>n_burnin</code>, and <code>n_thin</code> as specified by the user
  to be inherited by other relevant functions of the package.</p>
<p>The model is updated until convergence using the
  <code><a href="https://rdrr.io/pkg/R2jags/man/autojags.html" class="external-link">autojags</a></code> function of the R-package
  <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a> with 2 updates and
  number of iterations and thinning equal to <code>n_iter</code> and <code>n_thin</code>,
  respectively.</p>
<p><code>run_sensitivity</code> can be used only when missing participant
  outcome data have been extracted for at least one trial. Otherwise, the
  execution of the function will be stopped and an error message will be
  printed on the R console.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gelman, A, Rubin, DB. Inference from iterative simulation using multiple
sequences. <em>Stat Sci</em> 1992;<b>7</b>(4):457–72.
doi: 10.1214/ss/1177011136</p>
<p>Mavridis D, White IR, Higgins JP, Cipriani A, Salanti G. Allowing for
uncertainty due to missing continuous outcome data in pairwise and network
meta-analysis. <em>Stat Med</em> 2015;<b>34</b>(5):721–41.
doi: 10.1002/sim.6365</p>
<p>Spineli LM, Kalyvas C, Papadimitropoulou K. Quantifying the robustness of
primary analysis results: A case study on missing outcome data in pairwise
and network meta-analysis.
<em>Res Synth Methods</em> 2021;<b>12</b>(4):475–90. doi: 10.1002/jrsm.1478</p>
<p>Spineli LM. An empirical comparison of Bayesian modelling strategies for
missing binary outcome data in network meta-analysis.
<em>BMC Med Res Methodol</em> 2019;<b>19</b>(1):86.
doi: 10.1186/s12874-019-0731-y</p>
<p>Turner NL, Dias S, Ades AE, Welton NJ. A Bayesian framework to account for
uncertainty due to missing binary outcome data in pairwise meta-analysis.
<em>Stat Med</em> 2015;<b>34</b>(12):2062–80. doi: 10.1002/sim.6475</p>
<p>White IR, Higgins JP, Wood AM. Allowing for uncertainty due to missing data
in meta-analysis–part 1: two-stage methods.
<em>Stat Med</em> 2008;<b>27</b>(5):711–27. doi: 10.1002/sim.3008</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/R2jags/man/autojags.html" class="external-link">autojags</a></code>,
  <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code>, <code><a href="run_model.html">run_model</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"pma.taylor2004"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read results from 'run_model' (using the default arguments)</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/res_taylor.rds'</span>, package <span class="op">=</span> <span class="st">'rnmamod'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Perform the sensitivity analysis (default arguments)</span></span></span>
<span class="r-in"><span><span class="co"># Note: Ideally, set 'n_iter' to 10000 and 'n_burnin' to 1000</span></span></span>
<span class="r-in"><span><span class="fu">run_sensitivity</span><span class="op">(</span>full <span class="op">=</span> <span class="va">res</span>,</span></span>
<span class="r-in"><span>                assumption <span class="op">=</span> <span class="st">"IDE-ARM"</span>,</span></span>
<span class="r-in"><span>                var_misspar <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                n_chains <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                n_iter <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                n_burnin <span class="op">=</span> <span class="fl">100</span>,</span></span>
<span class="r-in"><span>                n_thin <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The default scenarios were considered: c(-2, -1, 0, 1, 2).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> JAGS generates initial values for the parameters.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1 out of 25 total scenarios</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Deleting model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in jags.model(model.file, data = data, inits = init.values, n.chains = n.chains,     n.adapt = 0, quiet = quiet):</span> RUNTIME ERROR:</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Compilation error on line 61.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Unknown variable beta.n</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> Either supply values for this variable with the data</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> or define it  on the left hand side of a relation.</span>
<span class="r-err co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

