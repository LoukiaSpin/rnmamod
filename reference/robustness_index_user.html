<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculates the robustness index for a sensitivity analysis
  (Spineli et al., 2021) performed using the results of the analysis
  performed via the R-package
  netmeta or
  metafor.
  The user defines the input and the function returns the robustness index."><title>Robustness index when 'metafor' or 'netmeta' are used — robustness_index_user • rnmamod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Robustness index when 'metafor' or 'netmeta' are used — robustness_index_user"><meta property="og:description" content="Calculates the robustness index for a sensitivity analysis
  (Spineli et al., 2021) performed using the results of the analysis
  performed via the R-package
  netmeta or
  metafor.
  The user defines the input and the function returns the robustness index."><meta property="og:image" content="https://loukiaspin.github.io/rnmamod/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rnmamod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/network_description.html">Description of the network</a>
    <a class="dropdown-item" href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/LoukiaSpin/rnmamod/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Robustness index when 'metafor' or 'netmeta' are used</h1>
      <small class="dont-index">Source: <a href="https://github.com/LoukiaSpin/rnmamod/blob/HEAD/R/robustness.index.user_function.R" class="external-link"><code>R/robustness.index.user_function.R</code></a></small>
      <div class="d-none name"><code>robustness_index_user.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculates the robustness index for a sensitivity analysis
  (Spineli et al., 2021) performed using the results of the analysis
  performed via the R-package
  <a href="https://CRAN.R-project.org/package=netmeta" class="external-link">netmeta</a> or
  <a href="https://CRAN.R-project.org/package=metafor" class="external-link">metafor</a>.
  The user defines the input and the function returns the robustness index.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">robustness_index_user</span><span class="op">(</span><span class="va">sens</span>, <span class="va">pkg</span>, <span class="va">attribute</span>, <span class="va">threshold</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>sens</dt>
<dd><p>A list of R objects of class
<code><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></code>,
<code><a href="https://rdrr.io/pkg/netmeta/man/netmetabin.html" class="external-link">netmetabin</a></code> (see
<a href="https://CRAN.R-project.org/package=netmeta" class="external-link">netmeta</a>) or
<code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma</a></code>, <code><a href="https://wviechtb.github.io/metafor/reference/rma.glmm.html" class="external-link">rma.glmm</a></code>,
<code><a href="https://wviechtb.github.io/metafor/reference/rma.mh.html" class="external-link">rma.mh</a></code>, <code><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">rma.mv</a></code>,
<code><a href="https://wviechtb.github.io/metafor/reference/rma.peto.html" class="external-link">rma.peto</a></code>, and
<code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma.uni</a></code>
(see <a href="https://CRAN.R-project.org/package=metafor" class="external-link">metafor</a>).
The number of elements equals the number of analyses using the same dataset
and the same R-package. The first element should refer to the primary
analysis. Hence, the list should include at least two elements
(see 'Details').</p></dd>


<dt>pkg</dt>
<dd><p>Character string indicating the R-package with values
<code>"netmeta"</code>, or <code>"metafor"</code>.</p></dd>


<dt>attribute</dt>
<dd><p>This is relevant only for
<a href="https://CRAN.R-project.org/package=netmeta" class="external-link">netmeta</a>. A vector of
at least two characters with values <code>"TE.common"</code> or
<code>"TE.random"</code>. See 'Values' in <code><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></code>
or <code><a href="https://rdrr.io/pkg/netmeta/man/netmetabin.html" class="external-link">netmetabin</a></code>.</p></dd>


<dt>threshold</dt>
<dd><p>A number indicating the threshold of robustness, that is,
the minimally allowed deviation between the primary analysis (the first
element in <code>sens</code>) and re-analysis results. See 'Details' below.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>robustness_index_user</code> prints on the R console a message in
  red text on the threshold of robustness determined by the user.
  Then, the function returns the following list of elements:</p>
<dl><dt>robust_index</dt>
<dd><p>A numeric scalar or vector on the robustness
  index values. In the case of a pairwise meta-analysis,
  <code>robust_index</code> is scalar as only one summary effect size is obtained.
  In the case of network meta-analysis, <code>robust_index</code> is a vector with
  length equal to the number of possible pairwise comparisons;
  one robustness index per pairwise comparison.</p></dd>

  <dt>robust</dt>
<dd><p>A character or character vector (of same length with
  <code>robust_index</code>) on whether the primary analysis results are
  <em>robust</em> or <em>frail</em> to the different re-analyses.</p></dd>

  <dt>kld</dt>
<dd><p>A vector or matrix on the Kullback-Leibler divergence
  (KLD) measure in the summary effect size from a subsequent re-analysis to
  the primary analysis. In the case of a pairwise meta-analysis, <code>kld</code>
  is a vector with length equal to the number of total analyses (one KLD
  value is obtained per analysis). The number of total analyses equals the
  length of <code>sens</code>.
  In the case of network meta-analysis, <code>robust_index</code> is a matrix with
  number of rows equal to the number of total analyses and number of columns
  equal to the number of  possible pairwise comparisons; one KLD
  value per analysis and possible comparison.</p></dd>

  <dt>attribute</dt>
<dd><p>The attributes considered.</p></dd>

  <dt>threshold</dt>
<dd><p>The threshold used to be inherited by the
  <code><a href="heatmap_robustness.html">heatmap_robustness</a></code> function. See 'Details'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Thresholds of robustness have been proposed only for the odds ratio
  and standardised mean difference (Spineli et al., 2021).
  The user may consider the values 0.28 and 0.17 in the argument
  <code>threshold</code> for the odds ratio and standardised mean difference effect
  measures (the default values), respectively, or consider other plausible
  values. When the argument <code>threshold</code> has not been defined,
  <code>robustness_index</code> considers the default values 0.28 and 0.17 as
  threshold for robustness for binary and continuous outcome, respectively,
  regardless of the effect measure (the default thresholds may not be proper
  choices for other effect measures; hence, use these threshold with great
  caution in this case). Spineli et al. (2021) offers a discussion on
  specifying the <code>threshold</code> of robustness.</p>
<p>When other effect measure is used (other than odds ratio or standardised
  mean difference) or the elements in <code>sens</code> refer to different effect
  measures, the execution of the function will be stopped and an error
  message will be printed in the R console.</p>
<p>In <code>robust</code>, the value <code>"robust"</code> appears when the calculated
  <code>robust_index</code> is less than <code>threshold</code>; otherwise, the value
  <code>"frail"</code> appears.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Kullback S, Leibler RA. On information and sufficiency.
<em>Ann Math Stat</em> 1951;<b>22</b>(1):79--86. doi: 10.1214/aoms/1177729694</p>
<p>Spineli LM, Kalyvas C, Papadimitropoulou K. Quantifying the robustness of
primary analysis results: A case study on missing outcome data in pairwise
and network meta-analysis.
<em>Res Synth Methods</em> 2021;<b>12</b>(4):475--90. doi: 10.1002/jrsm.1478</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma</a></code>,
  <code><a href="https://wviechtb.github.io/metafor/reference/rma.glmm.html" class="external-link">rma.glmm</a></code>,
  <code><a href="https://wviechtb.github.io/metafor/reference/rma.mh.html" class="external-link">rma.mh</a></code>, <code><a href="https://wviechtb.github.io/metafor/reference/rma.mv.html" class="external-link">rma.mv</a></code>,
  <code><a href="https://wviechtb.github.io/metafor/reference/rma.peto.html" class="external-link">rma.peto</a></code>,
  <code><a href="https://wviechtb.github.io/metafor/reference/rma.uni.html" class="external-link">rma.uni</a></code>,
  <code><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></code>,
  <code><a href="https://rdrr.io/pkg/netmeta/man/netmetabin.html" class="external-link">netmetabin</a></code>,
  <code><a href="heatmap_robustness.html">heatmap_robustness</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/guido-s/netmeta" class="external-link">netmeta</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Baker2009</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Transform from arm-based to contrast-based format</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/pairwise.html" class="external-link">pairwise</a></span><span class="op">(</span><span class="va">treatment</span>, <span class="va">exac</span>, <span class="va">total</span>, studlab <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">study</span>, <span class="va">year</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>data <span class="op">=</span> <span class="va">Baker2009</span>, sm <span class="op">=</span> <span class="st">"OR"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Conduct standard network meta-analysis</span></span></span>
<span class="r-in"><span><span class="va">net1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/netmeta/man/netmeta.html" class="external-link">netmeta</a></span><span class="op">(</span><span class="va">p1</span>, ref <span class="op">=</span> <span class="st">"Placebo"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate the robustness index (random-effects versus fixed-effect)</span></span></span>
<span class="r-in"><span><span class="fu">robustness_index_user</span><span class="op">(</span>sens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">net1</span>, <span class="va">net1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      pkg <span class="op">=</span> <span class="st">"netmeta"</span>,</span></span>
<span class="r-in"><span>                      attribute <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TE.random"</span>, <span class="st">"TE.common"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      threshold <span class="op">=</span> <span class="fl">0.28</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

