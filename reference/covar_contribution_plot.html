<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualising study percentage contributions against a covariate — covar_contribution_plot • rnmamod</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualising study percentage contributions against a covariate — covar_contribution_plot"><meta name="description" content="A scatter plot of the study percentage contributions against the values of a
continuous study-level covariate for the treatment effects of comparisons
referring to the basic parameters, functional parameters or both.
Contributions on the estimated regression coefficients are also presented.
Study percentage contributions are based on the proposed methodology of
Donegan and colleagues (2018)."><meta property="og:description" content="A scatter plot of the study percentage contributions against the values of a
continuous study-level covariate for the treatment effects of comparisons
referring to the basic parameters, functional parameters or both.
Contributions on the estimated regression coefficients are also presented.
Study percentage contributions are based on the proposed methodology of
Donegan and colleagues (2018)."><meta property="og:image" content="https://loukiaspin.github.io/rnmamod/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rnmamod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/network_description.html">Description of the network</a></li>
    <li><a class="dropdown-item" href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LoukiaSpin/rnmamod/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Visualising study percentage contributions against a covariate</h1>
      <small class="dont-index">Source: <a href="https://github.com/LoukiaSpin/rnmamod/blob/main/R/covar.contribution.plot_function.R" class="external-link"><code>R/covar.contribution.plot_function.R</code></a></small>
      <div class="d-none name"><code>covar_contribution_plot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A scatter plot of the study percentage contributions against the values of a
continuous study-level covariate for the treatment effects of comparisons
referring to the basic parameters, functional parameters or both.
Contributions on the estimated regression coefficients are also presented.
Study percentage contributions are based on the proposed methodology of
Donegan and colleagues (2018).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">covar_contribution_plot</span><span class="op">(</span></span>
<span>  <span class="va">contr_res</span>,</span>
<span>  comparisons <span class="op">=</span> <span class="st">"basic"</span>,</span>
<span>  <span class="va">drug_names</span>,</span>
<span>  upper_limit <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  name_x_axis <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  axis_title_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  axis_text_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  strip_text_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  subtitle_size <span class="op">=</span> <span class="fl">14</span>,</span>
<span>  label_size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  seq_by <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  percentage <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-contr-res">contr_res<a class="anchor" aria-label="anchor" href="#arg-contr-res"></a></dt>
<dd><p>An object of S3 class <code><a href="study_perc_contrib.html">study_perc_contrib</a></code>. This
object contains the study percentage contributions to the treatment effects
(or regression coefficients, if relevant) of all possible comparisons in
the network. See 'Value' in <code><a href="study_perc_contrib.html">study_perc_contrib</a></code>.</p></dd>


<dt id="arg-comparisons">comparisons<a class="anchor" aria-label="anchor" href="#arg-comparisons"></a></dt>
<dd><p>Character string indicating the type of comparisons to
plot, with possible values: <code>"basic"</code>, <code>"functional"</code>, or
<code>"all"</code> to consider only the basic parameters, only the functional
parameters, or both, respectively. The default argument is <code>"basic"</code>.</p></dd>


<dt id="arg-drug-names">drug_names<a class="anchor" aria-label="anchor" href="#arg-drug-names"></a></dt>
<dd><p>A vector of labels with the name of the interventions in
the order they appear in the argument <code>contr_res</code>.
If <code>drug_names</code> is not defined, the order of the interventions as
they appear in <code>contr_res</code> is used, instead.</p></dd>


<dt id="arg-upper-limit">upper_limit<a class="anchor" aria-label="anchor" href="#arg-upper-limit"></a></dt>
<dd><p>A positive number to define the upper bound of range of
percentage values for the y-axis. The default argument is 100.</p></dd>


<dt id="arg-name-x-axis">name_x_axis<a class="anchor" aria-label="anchor" href="#arg-name-x-axis"></a></dt>
<dd><p>Text for the x axis title through the <code>labs</code> function
found in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-axis-title-size">axis_title_size<a class="anchor" aria-label="anchor" href="#arg-axis-title-size"></a></dt>
<dd><p>A positive integer for the font size of x axis title.
<code>axis_title_size</code> determines the axis.title (and legend.title)
arguments found in the theme's properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-axis-text-size">axis_text_size<a class="anchor" aria-label="anchor" href="#arg-axis-text-size"></a></dt>
<dd><p>A positive integer for the font size of axis text (both
axes). <code>axis_text_size</code> determines the axis.text (and legend.text)
arguments found in the theme's properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-strip-text-size">strip_text_size<a class="anchor" aria-label="anchor" href="#arg-strip-text-size"></a></dt>
<dd><p>A positive integer for the font size of strip text in
facets. <code>strip_text_size</code> determines the strip.text argument found in
the theme's properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-subtitle-size">subtitle_size<a class="anchor" aria-label="anchor" href="#arg-subtitle-size"></a></dt>
<dd><p>A positive integer for the font size of subtitle.
<code>subtitle_size</code> determines the plot.subtitle argument found in the
theme's properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-label-size">label_size<a class="anchor" aria-label="anchor" href="#arg-label-size"></a></dt>
<dd><p>A positive integer for the font size of labels appearing on
each data point. <code>label_size</code> determines the size argument found in
the geom's aesthetic properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-seq-by">seq_by<a class="anchor" aria-label="anchor" href="#arg-seq-by"></a></dt>
<dd><p>A positive integer for the sequence of values in the x-axis.
<code>seq_by</code> appears in the arguments breaks and labels found in the
scale_x_continuous aesthetic properties in the R-package
<a href="https://CRAN.R-project.org/package=ggplot2" class="external-link">ggplot2</a>.</p></dd>


<dt id="arg-percentage">percentage<a class="anchor" aria-label="anchor" href="#arg-percentage"></a></dt>
<dd><p>Logical with values <code>TRUE</code> if the covariate is
measured in per cent  and <code>FALSE</code> otherwise. The default argument is
<code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If interest lies only on the study percentage contributions to the
summary treatment effects of all possible pairwise comparisons, the function
returns one plot named 'plot_treat'. If interest lies also on the study
percentage contributions to the regression coefficient(s), the function
returns also the plot named 'plot_reg'.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>A panel of scatter plots is returned on the study percentage contributions to
the treatment effects (and also regression coefficients, if relevant) against
a continuous covariate for each comparison defined by the argument
<code>comparisons</code>; namely, only those referring to the basic or functional
parameters or all possible pairwise comparisons. Blue and red points indicate
the studies investigating the corresponding comparisons directly and
indirectly, respectively. Each point displays the number of the corresponding
study in the dataset.</p>
<p>If interest also lies on the study percentage contributions to the regression
coefficients, the regression coefficients can be determined to be common
across the comparisons, independent or exchangeable and this assumption is
specified in the <code><a href="study_perc_contrib.html">study_perc_contrib</a></code> function.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Donegan S, Dias S, Tudur-Smith C, Marinho V, Welton NJ. Graphs of study
contributions and covariate distributions for network meta-regression.
<em>Res Synth Methods</em> 2018;<b>9</b>(2):243–60. doi: 10.1002/jrsm.1292</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="study_perc_contrib.html">study_perc_contrib</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nma.fluoride.donegan2018"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get study contributions to random-effects network meta-regression</span></span></span>
<span class="r-in"><span><span class="co"># results under the assumption of independent treatment-by-covariate</span></span></span>
<span class="r-in"><span><span class="co"># interaction</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="study_perc_contrib.html">study_perc_contrib</a></span><span class="op">(</span>study_name <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">study</span>,</span></span>
<span class="r-in"><span>                          base_t <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">t1</span>,</span></span>
<span class="r-in"><span>                          exp_t <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">t2</span>,</span></span>
<span class="r-in"><span>                          ref_t <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                          obs_se <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">SE</span>,</span></span>
<span class="r-in"><span>                          obs_cov <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">Cov</span>,</span></span>
<span class="r-in"><span>                          covar <span class="op">=</span> <span class="va">nma.fluoride.donegan2018</span><span class="op">$</span><span class="va">year</span>,</span></span>
<span class="r-in"><span>                          covar_assum <span class="op">=</span> <span class="st">"independent"</span>,</span></span>
<span class="r-in"><span>                          model <span class="op">=</span> <span class="st">"RE"</span>,</span></span>
<span class="r-in"><span>                          tau <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">sqrt</a></span><span class="op">(</span><span class="fl">0.03</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Covariate-contribution plot on the basic parameters only</span></span></span>
<span class="r-in"><span><span class="fu">covar_contribution_plot</span><span class="op">(</span>contr_res <span class="op">=</span> <span class="va">res</span>,</span></span>
<span class="r-in"><span>                        comparisons <span class="op">=</span> <span class="st">"basic"</span>,</span></span>
<span class="r-in"><span>                        drug_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NT"</span>, <span class="st">"PL"</span>, <span class="st">"DE"</span>, <span class="st">"RI"</span>, <span class="st">"GE"</span>, <span class="st">"VA"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        upper_limit <span class="op">=</span> <span class="fl">15</span>,</span></span>
<span class="r-in"><span>                        name_x_axis <span class="op">=</span> <span class="st">"Randomisation year"</span>,</span></span>
<span class="r-in"><span>                        seq_by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

