<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>End-user-ready results for node-splitting approach — nodesplit_plot • rnmamod</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="End-user-ready results for node-splitting approach — nodesplit_plot" />
<meta property="og:description" content="nodesplit_plot hosts a toolkit of functions that
  facilitates the comparison of the consistency model
  (via run_model) with the node-splitting approach
  (via run_nodesplit) regarding the posterior summaries of the
  the direct and indirect effects and inconsistency factor of the split
  nodes, the between-trial standard deviation (τ) and model assessment
  parameters (Spiegelhalter et al., (2002)) after each split node in the
  network." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rnmamod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model_diagnostics.html">Evaluate the model diagnostics</a>
    </li>
    <li>
      <a href="../articles/network_description.html">Description of the network</a>
    </li>
    <li>
      <a href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>End-user-ready results for node-splitting approach</h1>
    
    <div class="hidden name"><code>nodesplit_plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>nodesplit_plot</code> hosts a toolkit of functions that
  facilitates the comparison of the consistency model
  (via <code><a href='run_model.html'>run_model</a></code>) with the node-splitting approach
  (via <code><a href='run_nodesplit.html'>run_nodesplit</a></code>) regarding the posterior summaries of the
  the direct and indirect effects and inconsistency factor of the split
  nodes, the between-trial standard deviation (τ) and model assessment
  parameters (Spiegelhalter et al., (2002)) after each split node in the
  network.</p>
    </div>

    <pre class="usage"><span class='fu'>nodesplit_plot</span><span class='op'>(</span><span class='va'>full</span>, <span class='va'>node</span>, <span class='va'>drug_names</span>, <span class='va'>save_xls</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>full</th>
      <td><p>An object of S3 class <code><a href='run_model.html'>run_model</a></code>. See 'Value' in
<code><a href='run_model.html'>run_model</a></code>.</p></td>
    </tr>
    <tr>
      <th>node</th>
      <td><p>An object of S3 class <code><a href='run_nodesplit.html'>run_nodesplit</a></code>. See 'Value'
in <code><a href='run_nodesplit.html'>run_nodesplit</a></code>.</p></td>
    </tr>
    <tr>
      <th>drug_names</th>
      <td><p>A vector of labels with the name of the interventions in
the order they appear in the argument <code>data</code> of
<code><a href='run_model.html'>run_model</a></code>. If <code>drug_names</code> is not defined,
the order of the interventions as they appear in <code>data</code> is used,
instead.</p></td>
    </tr>
    <tr>
      <th>save_xls</th>
      <td><p>Logical to indicate whether to export the tabulated results
to an 'xlsx' file (via the <code><a href='https://docs.ropensci.org/writexl/reference/write_xlsx.html'>write_xlsx</a></code>
function) to the working directory of the user. The default is <code>FALSE</code>
(do not export).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>nodesplit_plot</code> returns the following list of elements:</p><table class='table'>
<tr><td><code>table_effect_size</code></td><td>A data-frame with the posterior mean,
   posterior standard deviation and 95% credible interval of the direct and
   indirect effect and the inconsistency factor of each split node.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>table_model_assessment</code></td><td>A data-frame with the model assessment
   parameters (deviance information criterion (DIC), posterior mean of total
   residual deviance, and number of effective parameters), the posterior
   median, posterior standard deviation and 95% credible interval of
   \(\tau\) under the consistency model and after each split node. See
   'Details'.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>intervalplot_inconsistency_factor</code></td><td>A panel of interval plots on
   the direct and indirect effect of the split nodes and the corresponding
   inconsistency factor. See 'Details'.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>intervalplot_tau</code></td><td>An interval plot on \(\tau\) after each
   split node. See 'Details'.</td></tr>
</table>


    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>intervalplot_inconsistency_factor</code> includes as many interval
  plots as the number of split nodes in the network. Each interval plot
  illustrates the posterior mean and 95% credible interval of the direct and
  indirect effect of the split nodes and the corresponding inconsistency
  factor.
  The line that corresponds to the inconsistency factor is highlighted with
  green, when it does not cross the vertical line of no difference (between
  the direct and indirect effect), and red otherwise. If there are more than
  30 split nodes, the function presents the interval plots on split nodes
  with conclusive inconsistency factor (green intervals) or those with
  inconsistent sign in the direct and indirect effect.</p>
<p><code>intervalplot_tau</code> is a interval plot on the median and 95% credible
  interval of \(\tau\) after each split node. The lines that correspond to
  the split nodes are sorted in ascending order of the DIC which appears at
  the top of each line.
  The 95% credible interval of \(\tau\) under the consistency model
  appears as a rectangle in the interval plot. When a fixed-effect model has
  been performed, <code>nodesplit_plot</code> does not return the
  <code>intervalplot_tau</code>.</p>
<p>The <code>table_model_assessment</code> also includes the column
  <em>DIC-based better fit</em> that indicates the preferred model in terms of
  parsimony for each split node. Therefore, the DIC of the model after each
  split node is compared with the DIC of the consistency model
  (Dias et al., (2010)). If the difference in DIC exceeds 5, the consistency
  model is preferred; if the difference in DIC is less than -5, the model
  after the split node is preferred; otherwise, there is little to choose
  between the compared models.</p>
<p>The split nodes have been automatically selected via the
  <code><a href='https://rdrr.io/pkg/gemtc/man/mtc.nodesplit.html'>mtc.nodesplit.comparisons</a></code> function of the
  R-package <a href='https://CRAN.R-project.org/package=gemtc'>gemtc</a>.
  See 'Details' in <code><a href='run_nodesplit.html'>run_nodesplit</a></code>.</p>
<p>Furthermore, <code>nodesplit_plot</code> exports both data-frames to separate
  'xlsx' files (via the <code><a href='https://docs.ropensci.org/writexl/reference/write_xlsx.html'>write_xlsx</a></code> function) to the
  working directory of the user.</p>
<p><code>nodesplit_plot</code> can be used only for a network of interventions and
  when there is at least one split node. Otherwise, the execution of the
  function will be stopped and an error message will be printed on the R
  console.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Dias S, Welton NJ, Caldwell DM, Ades AE. Checking consistency in mixed
treatment comparison meta-analysis.
<em>Stat Med</em> 2010;<b>29</b>(7-8):932--44. doi: <a href='https://doi.org/10.1002/sim.3767'>10.1002/sim.3767</a></p>
<p>Spiegelhalter DJ, Best NG, Carlin BP, van der Linde A. Bayesian measures of
model complexity and fit. <em>J R Stat Soc B</em> 2002;<b>64</b>:583--616.
doi: <a href='https://doi.org/10.1111/1467-9868.00353'>10.1111/1467-9868.00353</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='run_model.html'>run_model</a></code>, <code><a href='run_nodesplit.html'>run_nodesplit</a></code>,
  <code><a href='https://rdrr.io/pkg/gemtc/man/mtc.nodesplit.html'>mtc.nodesplit.comparisons</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Loukia M. Spineli</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"nma.baker2009"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span></span>
<span class='r-in'><span class='co'># Perform a random-effects network meta-analysis</span></span>
<span class='r-in'><span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_model.html'>run_model</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>nma.baker2009</span>,</span>
<span class='r-in'>                 measure <span class='op'>=</span> <span class='st'>"OR"</span>,</span>
<span class='r-in'>                 model <span class='op'>=</span> <span class='st'>"RE"</span>,</span>
<span class='r-in'>                 assumption <span class='op'>=</span> <span class='st'>"IDE-ARM"</span>,</span>
<span class='r-in'>                 heter_prior <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"halfnormal"</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>,</span>
<span class='r-in'>                 mean_misspar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,</span>
<span class='r-in'>                 var_misspar <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span class='r-in'>                 D <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span class='r-in'>                 n_chains <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span class='r-in'>                 n_iter <span class='op'>=</span> <span class='fl'>10000</span>,</span>
<span class='r-in'>                 n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,</span>
<span class='r-in'>                 n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Run random-effects node-splitting approach</span></span>
<span class='r-in'><span class='va'>node</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_nodesplit.html'>run_nodesplit</a></span><span class='op'>(</span>full <span class='op'>=</span> <span class='va'>res</span>,</span>
<span class='r-in'>                      n_chains <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span class='r-in'>                      n_iter <span class='op'>=</span> <span class='fl'>10000</span>,</span>
<span class='r-in'>                      n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,</span>
<span class='r-in'>                      n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># The names of the interventions in the order they appear in the dataset</span></span>
<span class='r-in'><span class='va'>interv_names</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"placebo"</span>, <span class='st'>"budesonide"</span>, <span class='st'>"budesonide plus formoterol"</span>,</span>
<span class='r-in'>                  <span class='st'>"fluticasone"</span>, <span class='st'>"fluticasone plus salmeterol"</span>,</span>
<span class='r-in'>                  <span class='st'>"formoterol"</span>, <span class='st'>"salmeterol"</span>, <span class='st'>"tiotropium"</span><span class='op'>)</span></span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Plot the results from the consistency model and the node-splitting approach</span></span>
<span class='r-in'><span class='fu'>nodesplit_plot</span><span class='op'>(</span>full <span class='op'>=</span> <span class='va'>res</span>,</span>
<span class='r-in'>               node <span class='op'>=</span> <span class='va'>node</span>,</span>
<span class='r-in'>               drug_names <span class='op'>=</span> <span class='va'>interv_names</span><span class='op'>)</span></span>
<span class='r-in'><span class='op'>}</span></span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


