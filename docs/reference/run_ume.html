<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A function to perform Bayesian unrelated mean effects model — run_ume • rnmamod</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A function to perform Bayesian unrelated mean effects model — run_ume" />
<meta property="og:description" content="Performs a Bayesian network meta-analysis based on the unrelated
  mean effects model of Dias et al. (2013a) extended to address aggregate
  binary and continuous participant outcome data via the pattern-mixture
  model (Spineli, 2019; Spineli et al., 2021). This model offers a global
  evaluation of the plausibility of the consistency assumption in the network
  (Dias et al. (2013b))." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rnmamod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/network_description.html">Description of the network</a>
    </li>
    <li>
      <a href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A function to perform Bayesian unrelated mean effects model</h1>
    
    <div class="hidden name"><code>run_ume.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a Bayesian network meta-analysis based on the unrelated
  mean effects model of Dias et al. (2013a) extended to address aggregate
  binary and continuous participant outcome data via the pattern-mixture
  model (Spineli, 2019; Spineli et al., 2021). This model offers a global
  evaluation of the plausibility of the consistency assumption in the network
  (Dias et al. (2013b)).</p>
    </div>

    <pre class="usage"><span class='fu'>run_ume</span><span class='op'>(</span><span class='va'>full</span>, <span class='va'>n_iter</span>, <span class='va'>n_burnin</span>, <span class='va'>n_chains</span>, <span class='va'>n_thin</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>full</th>
      <td><p>An object of S3 class <code><a href='run_model.html'>run_model</a></code>. See 'Value' in
<code><a href='run_model.html'>run_model</a></code>.</p></td>
    </tr>
    <tr>
      <th>n_iter</th>
      <td><p>Positive integer specifying the number of Markov chains for the
MCMC sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function of
the R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 10000.</p></td>
    </tr>
    <tr>
      <th>n_burnin</th>
      <td><p>Positive integer specifying the number of iterations to
discard at the beginning of the MCMC sampling; an argument of the
<code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function of the R-package
<a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 1000.</p></td>
    </tr>
    <tr>
      <th>n_chains</th>
      <td><p>Positive integer specifying the number of chains for the MCMC
sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function of the
R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 2.</p></td>
    </tr>
    <tr>
      <th>n_thin</th>
      <td><p>Positive integer specifying the thinning rate for the MCMC
sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function of the
R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An R2jags output on the summaries of the posterior distribution, and
  the Gelman-Rubin convergence diagnostic of the following monitored
  parameters:</p><table class='table'>
<tr><td><code>EM</code></td><td>The summary effect estimate for each pairwise comparison
   observed in the network.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>dev_o</code></td><td>The deviance contribution of each trial-arm based on the
   observed outcome.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>hat_par</code></td><td>The fitted outcome at each trial-arm.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>tau</code></td><td>The between-trial standard deviation (assumed common
   across the observed pairwise comparisons) for the whole network, when a
   random-effects model has been specified.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>m_tau</code></td><td>The between-trial standard deviation (assumed common
   across the observed pairwise comparisons) for the subset of multi-arm
   trials, when a random-effects model has been specified.</td></tr>
</table>


<p>The output also includes the following elements - the first three resulting
  from relevant monitored parameters:</p><table class='table'>
<tr><td><code>leverage_o</code></td><td>The leverage for the observed outcome at each
   trial-arm.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>sign_dev_o</code></td><td>The sign of the difference between observed and
   fitted outcome at each trial-arm.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>model_assessment</code></td><td>A data-frame on the measures of model
   assessment: deviance information criterion, number of effective
   parameters, and total residual deviance.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>jagsfit</code></td><td>An object of S3 class <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> with
   the posterior results on all monitored parameters to be used in the
   <code>mcmc_diagnostics</code> function.</td></tr>
</table>
<p>Furthermore, <code>run_ume</code> returns a character vector with the pairwise
  comparisons observed in the network, <code>obs_comp</code>, and a character
  vector with comparisons between non-baseline interventions observed in
  multi-arm trials only, <code>frail_comp</code>. Both vectors are used in
  <code>ume_plot</code> function.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>run_ume</code> does not contain the arguments <code>data</code>,
  <code>measure</code>, <code>model</code>, <code>assumption</code>, <code>heter_prior</code>,
  <code>mean_misspar</code>, and <code>var_misspar</code> that are found in
  <code>run_model</code>. This is to prevent misspecifying the Bayesian model that
  has been considered in <code>run_model</code>. Instead, these arguments are
  contained in the argument <code>full</code> of the function. Therefore, the user
  needs first to apply <code>run_model</code>, and then usen<code>run_ume</code>
  (see, 'Examples').</p>
<p>Initially, <code>run_ume</code> calls the <code>improved_ume</code> function to
  identify the <em>frail comparisons</em>, that is, comparisons between
  non-baseline interventions in multi-arm trials -- not investigated in any
  two-arm trial of the network (Spineli, 2021). The 'original' model of
  Dias et al. (2013a) omits the frail comparisons from the estimation
  process. Consequently, the number of estimated summary effect sizes is less
  than those obtained by performing separate pairwise meta-analyses
  (see <code>run_series_meta</code>).</p>
<p>Then, to perform the Bayesian unrelated effect measures model,
  <code>run_ume</code> calls the <code>prepare_ume</code> function which contains the
  WinBUGS code as written by Dias et al. (2013a) for binomial and normal
  likelihood to analyse binary and continuous outcome data, respectively.
  <code>prepare_ume</code> has been extended to incorporate the pattern-mixture
  model with informative missingness parameters for binary and continuous
  outcome data (see, 'Details' in <code>run_model</code>). <code>prepare_ume</code> has
  been also 'upgraded' to account for the multi-arm trials by assigning
  conditional univariate normal distributions on the basic parameters of
  these trials, that is, effect parameters between non-baseline and baseline
  arms (Dias et al., 2013b; Spineli, 2021).</p>
<p><code>run_ume</code> runs Bayesian unrelated mean effects model in <code>JAGS</code>.
  The progress of the simulation appears in the R console.</p>
<p>The output of <code>run_ume</code> is not end-user-ready. The <code>ume_plot</code>
  function uses the output of <code>run_ume</code> as an S3 object and processes it
  further to provide an end-user-ready output.</p>
<p><code>run_ume</code> can be used only for a network of interventions. In the case
  of two interventions, the execution of the function will be stopped and an
  error message will be printed in the R console.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Spineli LM. A novel framework to evaluate the consistency assumption globally
in a network of interventions. <em>submitted</em> 2021.</p>
<p>Spineli LM, Kalyvas C, Papadimitropoulou K. Continuous(ly) missing outcome
data in network meta-analysis: a one-stage pattern-mixture model approach.
<em>Stat Methods Med Res</em> 2021. [doi: <a href='https://doi.org/10.1177/0962280220983544'>10.1177/0962280220983544</a>
]</p>
<p>Spineli LM. An empirical comparison of Bayesian modelling strategies for
missing binary outcome data in network meta-analysis.
<em>BMC Med Res Methodol</em> 2019;<b>19</b>(1):86.
[doi: <a href='https://doi.org/10.1186/s12874-019-0731-y'>10.1186/s12874-019-0731-y</a>
]</p>
<p>Dias S, Welton NJ, Sutton AJ, Caldwell DM, Lu G, Ades AE. Evidence synthesis
for decision making 4: inconsistency in networks of evidence based on
randomized controlled trials.
<em>Med Decis Making</em> 2013a;<b>33</b>(5):641--56.
[doi: <a href='https://doi.org/10.1177/0272989X12455847'>10.1177/0272989X12455847</a>
]</p>
<p>Dias S, Sutton AJ, Ades AE, Welton NJ. Evidence synthesis for decision
making 2: a generalized linear modeling framework for pairwise and network
meta-analysis of randomized controlled trials.
<em>Med Decis Making</em> 2013b;<b>33</b>(5):607--617.
[doi: <a href='https://doi.org/10.1177/0272989X12458724'>10.1177/0272989X12458724</a>
]</p>
<p>Gelman A, Rubin DB. Inference from iterative simulation using multiple
sequences. <em>Stat Sci</em> 1992;<b>7</b>:457--472.
[doi: <a href='https://doi.org/10.1214/ss/1177011136'>10.1214/ss/1177011136</a>
]</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='run_model.html'>run_model</a></code>, <code><a href='ume_plot.html'>ume_plot</a></code>,
  <code><a href='prepare_ume.html'>prepare_ume</a></code>, <code><a href='run_series_meta.html'>run_series_meta</a></code>,
  <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Loukia M. Spineli</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"nma.liu2013"</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Perform a random-effects network meta-analysis (consistency model)</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_model.html'>run_model</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>nma.liu2013</span>,
                 measure <span class='op'>=</span> <span class='st'>"OR"</span>,
                 model <span class='op'>=</span> <span class='st'>"RE"</span>,
                 assumption <span class='op'>=</span> <span class='st'>"IDE-ARM"</span>,
                 heter_prior <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"halfnormal"</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>,
                 mean_misspar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,
                 var_misspar <span class='op'>=</span> <span class='fl'>1</span>,
                 D <span class='op'>=</span> <span class='fl'>1</span>,
                 n_chains <span class='op'>=</span> <span class='fl'>3</span>,
                 n_iter <span class='op'>=</span> <span class='fl'>10000</span>,
                 n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,
                 n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='co'># Run random-effects unrelated mean effects model</span>
<span class='fu'>run_ume</span><span class='op'>(</span>full <span class='op'>=</span> <span class='va'>res</span>,
        n_chains <span class='op'>=</span> <span class='fl'>3</span>,
        n_iter <span class='op'>=</span> <span class='fl'>10000</span>,
        n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,
        n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


