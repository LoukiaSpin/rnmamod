<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Perform the unrelated mean effects model — run_ume • rnmamod</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Perform the unrelated mean effects model — run_ume"><meta property="og:description" content="Performs the unrelated mean effects model of Dias et al. (2013)
  that has been refined (Spineli, 2021) and extended to address aggregate
  binary and continuous missing participant outcome data via the
  pattern-mixture model (Spineli et al. 2021; Spineli, 2019). This model
  offers a global evaluation of the plausibility of the consistency
  assumption in the network."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rnmamod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/network_description.html">Description of the network</a>
    </li>
    <li>
      <a href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Perform the unrelated mean effects model</h1>
    
    <div class="hidden name"><code>run_ume.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs the unrelated mean effects model of Dias et al. (2013)
  that has been refined (Spineli, 2021) and extended to address aggregate
  binary and continuous missing participant outcome data via the
  pattern-mixture model (Spineli et al. 2021; Spineli, 2019). This model
  offers a global evaluation of the plausibility of the consistency
  assumption in the network.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_ume</span><span class="op">(</span><span class="va">full</span>, <span class="va">n_iter</span>, <span class="va">n_burnin</span>, <span class="va">n_chains</span>, <span class="va">n_thin</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>full</dt>
<dd><p>An object of S3 class <code><a href="run_model.html">run_model</a></code>. See 'Value' in
<code><a href="run_model.html">run_model</a></code>.</p></dd>


<dt>n_iter</dt>
<dd><p>Positive integer specifying the number of Markov chains for the
MCMC sampling; an argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function
of the R-package <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 10000.</p></dd>


<dt>n_burnin</dt>
<dd><p>Positive integer specifying the number of iterations to
discard at the beginning of the MCMC sampling; an argument of the
<code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of the R-package
<a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 1000.</p></dd>


<dt>n_chains</dt>
<dd><p>Positive integer specifying the number of chains for the MCMC
sampling; an argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of
the R-package <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 2.</p></dd>


<dt>n_thin</dt>
<dd><p>Positive integer specifying the thinning rate for the MCMC
sampling; an argument of the <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> function of
the R-package <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a>.
The default argument is 1.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An R2jags output on the summaries of the posterior distribution, and
  the Gelman-Rubin convergence diagnostic (Gelman et al., 1992) of the
  following monitored parameters:</p>
<dl><dt>EM</dt>
<dd><p>The summary effect estimate (according to the argument
  <code>measure</code> defined in <code><a href="run_model.html">run_model</a></code>) for each pairwise
  comparison observed in the network.</p></dd>

  <dt>dev_o</dt>
<dd><p>The deviance contribution of each trial-arm based on the
  observed outcome.</p></dd>

  <dt>hat_par</dt>
<dd><p>The fitted outcome at each trial-arm.</p></dd>

  <dt>tau</dt>
<dd><p>The between-trial standard deviation (assumed common across the
  observed pairwise comparisons) for the whole network, when a random-effects
  model has been specified.</p></dd>

  <dt>m_tau</dt>
<dd><p>The between-trial standard deviation (assumed common
  across the observed pairwise comparisons) for the subset of multi-arm
  trials, when a random-effects model has been specified.</p></dd>


</dl><p>The output also includes the following elements:</p>
<dl><dt>leverage_o</dt>
<dd><p>The leverage for the observed outcome at each trial-arm.</p></dd>

  <dt>sign_dev_o</dt>
<dd><p>The sign of the difference between observed and fitted
  outcome at each trial-arm.</p></dd>

  <dt>model_assessment</dt>
<dd><p>A data-frame on the measures of model assessment:
  deviance information criterion, number of effective parameters, and total
  residual deviance.</p></dd>

  <dt>jagsfit</dt>
<dd><p>An object of S3 class <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code> with
  the posterior results on all monitored parameters to be used in the
  <code><a href="mcmc_diagnostics.html">mcmc_diagnostics</a></code> function.</p></dd>


</dl><p>Furthermore, <code>run_ume</code> returns a character vector with the pairwise
  comparisons observed in the network, <code>obs_comp</code>, and a character
  vector with comparisons between the non-baseline interventions observed in
  multi-arm trials only, <code>frail_comp</code>. Both vectors are used in</p>
<p></p>
<p><code><a href="ume_plot.html">ume_plot</a></code> function.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p><code>run_ume</code> inherits the arguments <code>data</code>,
  <code>measure</code>, <code>model</code>, <code>assumption</code>, <code>heter_prior</code>,
  <code>mean_misspar</code>, <code>var_misspar</code>, and <code>ref</code> from
  <code><a href="run_model.html">run_model</a></code>.
  This prevents specifying a different Bayesian model from that considered in
  <code><a href="run_model.html">run_model</a></code>.Therefore, the user needs first to apply
  <code><a href="run_model.html">run_model</a></code>, and then use <code>run_ume</code> (see 'Examples').</p>
<p>The <code>run_ume</code> function also returns the arguments <code>data</code>,
  <code>model</code>, <code>measure</code>, <code>assumption</code>, <code>n_chains</code>,
  <code>n_iter</code>, <code>n_burnin</code>, and <code>n_thin</code> as specified by the user
  to be inherited by other relevant functions of the package.</p>
<p>Initially, <code>run_ume</code> calls the <code><a href="improved_ume.html">improved_ume</a></code> function to
  identify the <em>frail comparisons</em>, that is, comparisons between
  non-baseline interventions in multi-arm trials not investigated in any
  two-arm or multi-arm trial of the network (Spineli, 2021). The 'original'
  model of Dias et al. (2013) omits the frail comparisons from the estimation
  process. Consequently, the number of estimated summary effects is less
  than those obtained by performing separate pairwise meta-analyses
  (see <code><a href="run_series_meta.html">run_series_meta</a></code>).</p>
<p>For a binary outcome, when <code>measure</code> is "RR" (relative risk) or "RD"
  (risk difference) in <code><a href="run_model.html">run_model</a></code>, <code>run_ume</code> currently
  considers the odds ratio as effect measure for being the <strong>base-case</strong>
  effect measure in <code><a href="run_model.html">run_model</a></code> for a binary outcome
  (see also 'Details' in <code><a href="run_model.html">run_model</a></code>).</p>
<p><code>run_ume</code> calls the <code><a href="prepare_ume.html">prepare_ume</a></code> function which contains
  the WinBUGS code as written by Dias et al. (2013) for binomial and normal
  likelihood to analyse binary and continuous outcome data, respectively.
  <code><a href="prepare_ume.html">prepare_ume</a></code> has been extended to incorporate the
  pattern-mixture model with informative missingness parameters for binary
  and continuous outcome data (see 'Details' in <code><a href="run_model.html">run_model</a></code>).
  <code><a href="prepare_ume.html">prepare_ume</a></code> has also been refined to account for the
  multi-arm trials by assigning conditional univariate normal distributions
  on the underlying trial-specific effect size of comparisons with the
  baseline arm of the multi-arm trial (Spineli, 2021).</p>
<p><code>run_ume</code> runs Bayesian unrelated mean effects model in <code>JAGS</code>.
  The progress of the simulation appears on the R console. The model is
  updated until convergence using the <code><a href="https://rdrr.io/pkg/R2jags/man/autojags.html" class="external-link">autojags</a></code>
  function of the R-package
  <a href="https://CRAN.R-project.org/package=R2jags" class="external-link">R2jags</a> with 2 updates and
  number of iterations and thinning equal to <code>n_iter</code> and <code>n_thin</code>,
  respectively.</p>
<p>The output of <code>run_ume</code> is not end-user-ready. The
  <code><a href="ume_plot.html">ume_plot</a></code> function uses the output of <code>run_ume</code> as an S3
  object and processes it further to provide an end-user-ready output.</p>
<p><code>run_ume</code> can be used only for a network of interventions. In the case
  of two interventions, the execution of the function will be stopped and an
  error message will be printed on the R console.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Dias S, Welton NJ, Sutton AJ, Caldwell DM, Lu G, Ades AE. Evidence synthesis
for decision making 4: inconsistency in networks of evidence based on
randomized controlled trials.
<em>Med Decis Making</em> 2013;<b>33</b>(5):641--56.
doi: 10.1177/0272989X12455847</p>
<p>Gelman A, Rubin DB. Inference from iterative simulation using multiple
sequences. <em>Stat Sci</em> 1992;<b>7</b>(4):457--72.
doi: 10.1214/ss/1177011136</p>
<p>Spineli LM. A Revised Framework to Evaluate the Consistency Assumption
Globally in a Network of Interventions. <em>Med Decis Making</em> 2021.
doi: 10.1177/0272989X211068005</p>
<p>Spineli LM, Kalyvas C, Papadimitropoulou K. Continuous(ly) missing outcome
data in network meta-analysis: a one-stage pattern-mixture model approach.
<em>Stat Methods Med Res</em> 2021;<b>30</b>(4):958--75.
doi: 10.1177/0962280220983544</p>
<p>Spineli LM. An empirical comparison of Bayesian modelling strategies for
missing binary outcome data in network meta-analysis.
<em>BMC Med Res Methodol</em> 2019;<b>19</b>(1):86.
doi: 10.1186/s12874-019-0731-y</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/R2jags/man/autojags.html" class="external-link">autojags</a></code>,
  <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">jags</a></code>,
  <code><a href="prepare_ume.html">prepare_ume</a></code>, <code><a href="run_model.html">run_model</a></code>,
  <code><a href="run_series_meta.html">run_series_meta</a></code>, <code><a href="ume_plot.html">ume_plot</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nma.liu2013"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Read results from 'run_model' (using the default arguments)</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/res_liu.rds'</span>, package <span class="op">=</span> <span class="st">'rnmamod'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># \donttest{</span></span>
<span><span class="co"># Run random-effects unrelated mean effects model</span></span>
<span><span class="co"># Note: Ideally, set 'n_iter' to 10000 and 'n_burnin' to 1000</span></span>
<span><span class="fu">run_ume</span><span class="op">(</span>full <span class="op">=</span> <span class="va">res</span>,</span>
<span>        n_chains <span class="op">=</span> <span class="fl">3</span>,</span>
<span>        n_iter <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>        n_burnin <span class="op">=</span> <span class="fl">100</span>,</span>
<span>        n_thin <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># }</span></span>
<span></span></code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

