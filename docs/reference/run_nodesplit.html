<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bayesian node-splitting approach to explore (in)consistency — run_nodesplit • rnmamod</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Bayesian node-splitting approach to explore (in)consistency — run_nodesplit" />
<meta property="og:description" content="Performs a Bayesian network meta-analysis based on the node-splitting
  approach of Dias et al. (2010) extended to address aggregate binary
  and continuous participant outcome data via the pattern-mixture model
  (Spineli, 2019; Spineli et al., 2021). This model offers a local evaluation
  of the plausibility of the consistency assumption in the network
  (Dias et al. (2010))." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rnmamod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/model_diagnostics.html">Evaluate the model diagnostics</a>
    </li>
    <li>
      <a href="../articles/network_description.html">Description of the network</a>
    </li>
    <li>
      <a href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bayesian node-splitting approach to explore (in)consistency</h1>
    
    <div class="hidden name"><code>run_nodesplit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Performs a Bayesian network meta-analysis based on the node-splitting
  approach of Dias et al. (2010) extended to address aggregate binary
  and continuous participant outcome data via the pattern-mixture model
  (Spineli, 2019; Spineli et al., 2021). This model offers a local evaluation
  of the plausibility of the consistency assumption in the network
  (Dias et al. (2010)).</p>
    </div>

    <pre class="usage"><span class='fu'>run_nodesplit</span><span class='op'>(</span><span class='va'>full</span>, <span class='va'>n_chains</span>, <span class='va'>n_iter</span>, <span class='va'>n_burnin</span>, <span class='va'>n_thin</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>full</th>
      <td><p>An object of S3 class <code><a href='run_model.html'>run_model</a></code>.
See 'Value' in <code><a href='run_model.html'>run_model</a></code>.</p></td>
    </tr>
    <tr>
      <th>n_chains</th>
      <td><p>Positive integer specifying the number of chains for the
MCMC sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function
of the R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 2.</p></td>
    </tr>
    <tr>
      <th>n_iter</th>
      <td><p>Positive integer specifying the number of Markov chains for the
MCMC sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function
of the R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 10000.</p></td>
    </tr>
    <tr>
      <th>n_burnin</th>
      <td><p>Positive integer specifying the number of iterations to
discard at the beginning of the MCMC sampling; an argument of the
<code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function of the R-package
<a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 1000.</p></td>
    </tr>
    <tr>
      <th>n_thin</th>
      <td><p>Positive integer specifying the thinning rate for the
MCMC sampling; an argument of the <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code> function
of the R-package <a href='https://CRAN.R-project.org/package=R2jags'>R2jags</a>.
The default argument is 1.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An R2jags output on the summaries of the posterior distribution,
  and the Gelman-Rubin convergence diagnostic of the
  following monitored parameters:</p><table class='table'>
<tr><td><code>direct</code></td><td>The (summary) direct effect estimate of each
   split node based on the corresponding trials.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>indirect</code></td><td>The indirect effect estimate of each
   split node based on the remaining network after removing (splitting)
   the corresponding node.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>diff</code></td><td>The inconsistency parameter for each split node
   defined as the difference between the direct and indirect effect
   of the corresponding split node.</td></tr>
<tr><td></td><td></td></tr>
<tr><td><code>tau</code></td><td>The between-trial standard deviation after
   each split node, when the random-effects model has been specified.</td></tr>
</table>


<p>Furthermore, the output includes the following element:</p><table class='table'>
<tr><td><code>model.assessment</code></td><td>A data-frame on the measures of model
   assessment after each split node: deviance information criterion,
   total residual deviance, and number of effective parameters.</td></tr>
</table>


    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>run_nodesplit</code> does not contain the arguments <code>data</code>,
  <code>measure</code>, <code>model</code>, <code>assumption</code>, <code>heter_prior</code>,
  <code>mean_misspar</code>, and <code>var.misspar</code> that are found in
  <code>run_model</code>. This is to prevent misspecifying the Bayesian model that
  has been considered in <code>run_model</code>. Instead, these arguments are
  contained in the argument <code>full</code> of the function. Therefore, the user
  needs first to apply <code>run_model</code>, and then use <code>run_nodesplit</code>
  (see, 'Examples').</p>
<p>To perform the Bayesian node-splitting approach, the
  <code>prepare_nodesplit</code> function is called which contains the WinBUGS
  code as written by Dias et al. (2010) for binomial and normal likelihood
  to analyse binary and continuous outcome data, respectively.
  <code>prepare_nodesplit</code> has been extended to incorporate the
  pattern-mixture model with informative missingness parameters for binary
  and continuous outcome data (see, 'Details' in <code>run_model</code>).</p>
<p><code>run_nodesplit</code> runs Bayesian network meta-analysis based on the
  node-splitting approach in <code>JAGS</code>. The progress of the simulation
  appears in the R console. The number of times <code>run_nodesplit</code> is used
  appears in the R console as a text in red and it equals the number of
  split nodes (see 'Examples'). If there are no split nodes in the network,
  the execution of the function will be stopped and an error message
  will be printed in the R console.</p>
<p><code>run_nodesplit</code> uses the <code>mtc.nodesplit.comparisons</code> function
  of the <code>gemtc</code> package to  obtain automatically the nodes to
  split based on the decision rule of van Valkenhoef et al. (2016).
  <code>run_nodesplit</code> uses the option (1) in van Valkenhoef et al. (2016)
  to parameterise multi-arm trials that contain the node-to-split.
  In contrast, the <code>mtc.nodesplit</code> function of the <code>gemtc</code>
  package uses the option (3) in van Valkenhoef et al. (2016).
  Option (1) keeps the baseline arm of the node-to-split in the corresponding
  multi-arms. Option (3) excludes both arms of the node-to-split from the
  corresponding multi-arm trials. Hence, the corresponding subnetworks
  obtained after splitting the node differ, and by extend, the results that
  correspond to split nodes found in multi-arm trials.</p>
<p>The output of <code>run_nodesplit</code> is not end-user-ready.
  The <code>nodesplit_plot</code> function uses the output of <code>run_nodesplit</code>
  as an S3 object and processes it further to provide an end-user-ready
  output.</p>
<p><code>run_nodesplit</code> can be used only for a network of interventions.
  In the case of two interventions, the execution of the function will
  be stopped and an error message will be printed in the R console.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Spineli LM, Kalyvas C, Papadimitropoulou K. Continuous(ly) missing outcome
data in network meta-analysis: a one-stage pattern-mixture model approach.
<em>Stat Methods Med Res</em> 2021. [doi: <a href='https://doi.org/10.1177/0962280220983544'>10.1177/0962280220983544</a>
]</p>
<p>Spineli LM. An empirical comparison of Bayesian modelling strategies for
missing binary outcome data in network meta-analysis.
<em>BMC Med Res Methodol</em> 2019;<b>19</b>(1):86.
[doi: <a href='https://doi.org/10.1186/s12874-019-0731-y'>10.1186/s12874-019-0731-y</a>
]</p>
<p>Dias S, Welton NJ, Caldwell DM, Ades AE. Checking consistency in mixed
treatment comparison meta-analysis.
<em>Stat Med</em> 2010;<b>29</b>(7-8):932--44.
[doi: <a href='https://doi.org/10.1002/sim.3767'>10.1002/sim.3767</a>
]</p>
<p>Gelman A, Rubin DB. Inference from iterative simulation using multiple
sequences. <em>Stat Sci</em> 1992;<b>7</b>:457--472.
[doi: <a href='https://doi.org/10.1214/ss/1177011136'>10.1214/ss/1177011136</a>
]</p>
<p>van Valkenhoef G, Dias S, Ades AE, Welton NJ. Automated generation of
node-splitting models for assessment of inconsistency in network
meta-analysis. <em>Res Synth Methods</em> 2016;<b>7</b>(1):80--93.
[doi: <a href='https://doi.org/10.1002/jrsm.1167'>10.1002/jrsm.1167</a>
]</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='run_model.html'>run_model</a></code>, <code><a href='nodesplit_plot.html'>nodesplit_plot</a></code>, \
code<a href='prepare_nodesplit.html'>prepare_nodesplit</a>, <code><a href='https://rdrr.io/pkg/R2jags/man/jags.html'>jags</a></code>,
<code><a href='https://rdrr.io/pkg/gemtc/man/mtc.nodesplit.html'>mtc.nodesplit.comparisons</a></code>,
<code><a href='https://rdrr.io/pkg/gemtc/man/mtc.nodesplit.html'>mtc.nodesplit</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Loukia M. Spineli</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>"nma.baker2009"</span><span class='op'>)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Perform a random-effects network meta-analysis</span>
<span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='run_model.html'>run_model</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>nma.baker2009</span>,
                 measure <span class='op'>=</span> <span class='st'>"OR"</span>,
                 model <span class='op'>=</span> <span class='st'>"RE"</span>,
                 assumption <span class='op'>=</span> <span class='st'>"IDE-ARM"</span>,
                 heter_prior <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"halfnormal"</span>, <span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span>,
                 mean_misspar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,
                 var_misspar <span class='op'>=</span> <span class='fl'>1</span>,
                 D <span class='op'>=</span> <span class='fl'>1</span>,
                 n_chains <span class='op'>=</span> <span class='fl'>3</span>,
                 n_iter <span class='op'>=</span> <span class='fl'>10000</span>,
                 n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,
                 n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='co'># Run random-effects network meta-analysis with node-splitting approach</span>
<span class='fu'>run_nodesplit</span><span class='op'>(</span>full <span class='op'>=</span> <span class='va'>res</span>,
              n_chains <span class='op'>=</span> <span class='fl'>3</span>,
              n_iter <span class='op'>=</span> <span class='fl'>10000</span>,
              n_burnin <span class='op'>=</span> <span class='fl'>1000</span>,
              n_thin <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


