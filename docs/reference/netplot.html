<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Network plot and description of the evidence base — netplot • rnmamod</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Network plot and description of the evidence base — netplot"><meta property="og:description" content="Illustrates the network plot for one outcome and summarises the
  characteristics of the evidence base."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rnmamod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/network_description.html">Description of the network</a>
    </li>
    <li>
      <a href="../articles/perform_network_metaanalysis.html">Perform network meta-analysis</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/LoukiaSpin/rnmamod/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Network plot and description of the evidence base</h1>
    <small class="dont-index">Source: <a href="https://github.com/LoukiaSpin/rnmamod/blob/HEAD/R/network.plot_function.R" class="external-link"><code>R/network.plot_function.R</code></a></small>
    <div class="hidden name"><code>netplot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Illustrates the network plot for one outcome and summarises the
  characteristics of the evidence base.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">netplot</span><span class="op">(</span><span class="va">data</span>, <span class="va">drug_names</span>, <span class="va">save_xls</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>A data-frame of a one-trial-per-row format containing arm-level
data of each trial. See 'Format' in <code><a href="run_model.html">run_model</a></code>.</p></dd>
<dt>drug_names</dt>
<dd><p>A vector of labels with the name of the interventions in
the order they appear in the argument <code>data</code>. If <code>drug_names</code> is
not defined, the order of the interventions as they appear in <code>data</code>
is used, instead.</p></dd>
<dt>save_xls</dt>
<dd><p>Logical to indicate whether to export the tabulated results
to an 'xlsx' file (via the <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code>
function of the R-package
<a href="https://CRAN.R-project.org/package=writexl" class="external-link">writexl</a>) at the working
directory of the user. The default is <code>FALSE</code> (do not export).</p></dd>
<dt>...</dt>
<dd><p>Additional arguments of the
<code><a href="https://rdrr.io/pkg/pcnetmeta/man/nma.networkplot.html" class="external-link">nma.networkplot</a></code> function of the
R-package <a href="https://CRAN.R-project.org/package=pcnetmeta" class="external-link">pcnetmeta</a>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A network plot with coloured closed-loops informed by multi-arm
  trials. Each node indicates an intervention and each edge an observed
  pairwise comparison. The edge thickness is proportional to the number of
  trials investigating the corresponding comparison, unless
  specified otherwise (see
<code><a href="https://rdrr.io/pkg/pcnetmeta/man/nma.networkplot.html" class="external-link">nma.networkplot</a></code> function of the
  R-package <a href="https://CRAN.R-project.org/package=pcnetmeta" class="external-link">pcnetmeta</a>).
  The size of the node is weighted by the total number of
  trials investigating the corresponding intervention, unless specified
  otherwise (see <code><a href="https://rdrr.io/pkg/pcnetmeta/man/nma.networkplot.html" class="external-link">nma.networkplot</a></code>  function of the R-package
<a href="https://CRAN.R-project.org/package=pcnetmeta" class="external-link">pcnetmeta</a>).
<code>netplot</code> also returns the following data-frames that describe the
  evidence base:</p>
<dl><dt>network_description</dt>
<dd><p>The number of: interventions, possible
  comparisons, direct and indirect comparisons, number of trials in total,
  number of two-arm and multi-arm trials, number of randomised participants,
  and proportion of participants completing the trial (completers).
  When the outcome is binary, the number of trials with at least one zero
  event, and the number of trials with all zero events are also
  presented.</p></dd>
<dt>table_interventions</dt>
<dd><p>For each intervention, the number of trials,
  number of randomised participants, and proportion of completers. When the
  outcome is binary, the data-frame presents also the corresponding
  proportion of total observed events, the minimum, median and maximum
  proportion of observed events across the corresponding trials.</p></dd>
<dt>table_comparisons</dt>
<dd><p>Identical structure to <code>table_interventions</code>
  but for each observed comparison in the network.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>netplot</code> draws the network plot using the
  <code><a href="https://rdrr.io/pkg/pcnetmeta/man/nma.networkplot.html" class="external-link">nma.networkplot</a></code> function
  of the R-package
  <a href="https://CRAN.R-project.org/package=pcnetmeta" class="external-link">pcnetmeta</a>.
  The <code><a href="https://rdrr.io/pkg/gemtc/man/mtc.data.studyrow.html" class="external-link">mtc.data.studyrow</a></code> function of
  the R-package hrefhttps://CRAN.R-project.org/package=gemtcgemtc is
  additionally used to convert <code>data</code> from the required
  one-trial-per-row format into the one-arm-per-row format.</p>
<p>Furthermore, <code>netplot</code> exports the data-frames to separate
  'xlsx' files (via the <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code> function
  of the R-package
  <a href="https://CRAN.R-project.org/package=writexl" class="external-link">writexl</a>) at the working
  directory of the user.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Lin L, Zhang J, Hodges JS, Chu H. Performing Arm-Based Network Meta-Analysis
in R with the pcnetmeta Package.
<em>J Stat Softw</em> 2017;<b>80</b>(5): 1--25. doi: <a href="https://doi.org/10.18637/jss.v080.i05" class="external-link">10.18637/jss.v080.i05</a></p>
<p>van Valkenhoef G, Kuiper J. gemtc: Network Meta-Analysis Using
Bayesian Methods. <em>R package version 1.0-1</em>. 2021.
<a href="https://CRAN.R-project.org/package=gemtc" class="external-link">https://CRAN.R-project.org/package=gemtc</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="data_preparation.html">data_preparation</a></code>,
  <code><a href="https://rdrr.io/pkg/gemtc/man/mtc.data.studyrow.html" class="external-link">mtc.data.studyrow</a></code>,
  <code><a href="https://rdrr.io/pkg/pcnetmeta/man/nma.networkplot.html" class="external-link">nma.networkplot</a></code>,
  <code><a href="run_model.html">run_model</a></code>
  <code><a href="https://docs.ropensci.org/writexl/reference/write_xlsx.html" class="external-link">write_xlsx</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Loukia M. Spineli</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nma.bottomley2011"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Return the first six trials of the dataset</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nma.bottomley2011</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             study t1 t2 t3 t4  r1  r2 r3 r4 m1 m2 m3 m4  n1  n2 n3 n4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   Buckley, 2008  1  6 NA NA  67  79 NA NA  2  1 NA NA 110 108 NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    Tyring, 2008  6  7 NA NA  74  12 NA NA  2  0 NA NA 135  42 NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 Kragballe, 2009  3  6 NA NA  19 114 NA NA  9  2 NA NA 105 207 NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     Luger, 2008  3  6 NA NA 101 196 NA NA 44  9 NA NA 431 419 NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    Klaber, 1994  2  3 NA NA 175 138 NA NA  2 11 NA NA 234 240 NA NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   Barrett, 2005  3  4 NA NA  79  79 NA NA 19 18 NA NA 225 236 NA NA</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># The names of the interventions in the order they appear in the dataset</span></span>
<span class="r-in"><span class="va">interv_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"betamethasone dipropionate"</span>, <span class="st">"betamethasone valerate"</span>,</span>
<span class="r-in">                  <span class="st">"calcipotriol"</span>, <span class="st">"calcipotriol plus polytar"</span>, <span class="st">"capasal"</span>,</span>
<span class="r-in">                  <span class="st">"two-compound formulation gel"</span>, <span class="st">"placebo"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Create the network plot</span></span>
<span class="r-in"><span class="fu">netplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">nma.bottomley2011</span>,</span>
<span class="r-in">        drug_names <span class="op">=</span> <span class="va">interv_names</span>,</span>
<span class="r-in">        save_xls <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-plt img"><img src="netplot-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $network_plot</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $network_description</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Characteristic                      |Total |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:-----------------------------------|:-----|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Interventions                       |7     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Possible comparisons                |21    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Direct comparisons                  |9     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Indirect comparisons                |12    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Trials                              |9     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Two-arm trials                      |7     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Multi-arm trials                    |2     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Randomised participants             |5889  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Proportion of completers            |96    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Proportion of observed events       |47    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Trials with at least one zero event |0     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Trials with all zero events         |0     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_interventions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Interventions                | Total trials| Total randomised| Completers (%)| Total events (%)| Min. events (%)| Median events (%)| Max. events (%)|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:----------------------------|------------:|----------------:|--------------:|----------------:|---------------:|-----------------:|---------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |betamethasone dipropionate   |            3|             1229|             99|               54|              52|                55|              62|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |betamethasone valerate       |            1|              234|             99|               75|              75|                75|              75|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |calcipotriol                 |            7|             1797|             92|               32|              20|                27|              60|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |calcipotriol plus polytar    |            1|              236|             92|               36|              36|                36|              36|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |capasal                      |            1|              237|             93|               14|              14|                14|              14|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |two-compound formulation gel |            6|             1978|             99|               58|              48|                56|              74|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |placebo                      |            2|              178|             96|               19|              16|                22|              29|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $table_comparisons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Comparisons                                                | Total trials| Total randomised| Completers (%)| Total events (%)| Min. events (%)| Median events (%)| Max. events (%)|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:----------------------------------------------------------|------------:|----------------:|--------------:|----------------:|---------------:|-----------------:|---------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |calcipotriol plus polytar vs calcipotriol                  |            1|              461|             92|               37|              37|                37|              37|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |calcipotriol vs betamethasone dipropionate                 |            2|             1677|             98|               45|              43|                45|              46|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |calcipotriol vs betamethasone valerate                     |            1|              474|             97|               68|              68|                68|              68|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |capasal vs calcipotriol                                    |            1|              475|             89|               20|              20|                20|              20|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |placebo vs betamethasone dipropionate                      |            1|              692|             98|               48|              48|                48|              48|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |placebo vs calcipotriol                                    |            1|              408|             93|               22|              22|                22|              22|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |placebo vs two-compound formulation gel                    |            2|              854|             98|               56|              49|                53|              58|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |two-compound formulation gel vs betamethasone dipropionate |            3|             2446|             99|               58|              53|                61|              68|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |two-compound formulation gel vs calcipotriol               |            4|             2829|             96|               46|              37|                45|              54|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Loukia Spineli.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

